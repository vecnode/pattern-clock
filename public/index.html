<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="pattern-clock">
    <title>pattern-clock</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <script
      type="text/javascript"
      src="/assets/vis-timeline-graph2d.min.js"
    ></script>
    <link
      href="/assets/vis-timeline-graph2d.min.css"
      rel="stylesheet"
      type="text/css"
    />
</head>
<body>
    <div id="main"></div>
    <div id="visualization"></div>
    <script type="text/javascript">
      // Polling/queuing system removed - web app now calls MCP tools directly via Dioxus
      console.log('Web app loaded - MCP client ready');
      
      // Wait for both DOM and vis library to be ready
      function initTimeline() {
        if (typeof vis === 'undefined') {
          setTimeout(initTimeline, 50);
          return;
        }
        
        // DOM element where the Timeline will be attached
        var container = document.getElementById("visualization");
        if (!container) {
          setTimeout(initTimeline, 50);
          return;
        }

        // Create a DataSet (allows two way data-binding)
        var items = new vis.DataSet([
          { id: 1, content: "item 1", start: "2014-04-20" },
          { id: 2, content: "item 2", start: "2014-04-14" },
          { id: 3, content: "item 3", start: "2014-04-18" },
          { id: 4, content: "item 4", start: "2014-04-16", end: "2014-04-19" },
          { id: 5, content: "item 5", start: "2014-04-25" },
          { id: 6, content: "item 6", start: "2014-04-27", type: "point" },
        ]);

        // Configuration for the Timeline
        var options = {};

        // Create a Timeline
        var timeline = new vis.Timeline(container, items, options);
      }
      
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initTimeline);
      } else {
        initTimeline();
      }
    </script>
</body>
</html>
